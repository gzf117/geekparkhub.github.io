	
# å¤§æ•°æ®ç”Ÿæ€ç³»ç»Ÿ ä¿®ä»™ä¹‹é“ PornhubAction Blog

@(2019-03-25)[ Docs Language:ç®€ä½“ä¸­æ–‡ & English|Programing Language:Statistical Analysis|Website:[www.geekparkhub.com](https://www.geekparkhub.com/)|![OpenSource](https://img.shields.io/badge/Open%20Source-%E2%9D%A4-brightgreen.svg) | ![GitHub repo size in bytes](https://img.shields.io/github/repo-size/geekparkhub/geekparkhub.github.io.svg) | GeekDeveloper:[JEEP-711](https://github.com/jeep711)|Github:[github.com/geekparkhub](https://github.com/geekparkhub)|Gitee:[gitee.com/geekparkhub](https://gitee.com/geekparkhub) ]

![enter image description here](https://raw.githubusercontent.com/geekparkhub/geekparkhub.github.io/master/technical_guide/assets/media/hive/project_cover/cover-3.jpg)

- **æå®¢å®éªŒå®¤æ˜¯æå®¢å›½é™…å…¬å›­æ——ä¸‹ä¸ºæœªæ¥è€Œæ„å»ºçš„æå®¢ç¤¾åŒº;**
- **æˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªæ´»è·ƒçš„å°ä¼—ç¤¾åŒº,æ±‡èšä¼—å¤šä¼˜ç§€å¼€å‘è€…ä¸è®¾è®¡å¸ˆ;**
- **å…³æ³¨æå…·åˆ›æ–°ç²¾ç¥çš„å‰æ²¿æŠ€æœ¯&åˆ†äº«äº¤æµ&é¡¹ç›®åˆä½œæœºä¼šç­‰äº’è”ç½‘è¡Œä¸šæœåŠ¡;**
- **Openå¼€æ”¾ `Â·` Creationåˆ›æƒ³ `|` OpenSourceå¼€æ”¾æˆå°±æ¢¦æƒ³ GeekParkHubå…±å»ºå‰æ‰€æœªè§!**
- **Future Vision : Establishment of the Geek Foundation;**
- **GeekParkHub GithubHome:**<https://github.com/geekparkhub>
- **GeekParkHub GiteeHome:**<https://gitee.com/geekparkhub>
- **æ¬¢è¿è´¡çŒ®`å„é¢†åŸŸå¼€æºé‡ç”ŸBlog`&`ç¬”è®°`&`æ–‡ç« `&`ç‰‡æ®µ`&`åˆ†äº«`&`åˆ›æƒ³`&`OpenSource Project`&`Code`&`Code Review`**
- ğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆ issues: [geekparkhub.github.io/issues](https://github.com/geekparkhub/geekparkhub.github.io/issues) ğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆ
- **`Official Public Email`**
- Group Emailï¼š<geekparkhub@outlook.com> â€”â€” <hackerparkhub@outlook.com> â€”â€” <hackerpark@hotmail.com>
- User Emailï¼š<jeep711.home.@gmail.com> â€”â€” <jeep-711@outlook.com>
- System Emailï¼š<systemhub-711@outlook.com>
- Service Emailï¼š<servicehub-711@outlook.com>


-------------------

[TOC]

## 0. PornhubAction Statistical Analysis ğŸ“Œ

| â…  | â…¡ | â…¢ | â…£ | â…¤ | â…¥ | â…¦ | â…§ | â…¨ | â…© |
| :--------: | :---------: | :---------: | :---------: | :---------: | :---------:| :---------: | :-------: | :-------:| :------:|
|Cloud [â˜ï¸](#ç½‘ç»œ-cloud)|Computer [ğŸ’»](#æ“ä½œç³»ç»Ÿ-computer)| Algorithm [âœï¸](#æ•°æ®ç»“æ„ä¸ç®—æ³•-pencil2)| Object Oriented [ğŸ‘«](#é¢å‘å¯¹è±¡-couple) |DataBase [ğŸ’¾](#æ•°æ®åº“-floppy_disk)| Java [â˜•](#java-coffee)| Distributed å¼[ğŸ’¦](#åˆ†å¸ƒå¼-sweat_drops)| Tools [ğŸ”§](#å·¥å…·-hammer)| Coding [ğŸ‘¨â€ğŸ’»](#ç¼–ç å®è·µ-speak_no_evil)| Notes [ğŸ“ƒ](#åè®°-memo) |


## 1. Pornhub ç®€ä»‹ ğŸ”
> Pornhubå½¢å¼ç±»ä¼¼äºYoutube,æ˜¯ä¸€ä¸ª(ğŸ‡¨ğŸ‡¦åŠ æ‹¿å¤§ğŸ‡¨ğŸ‡¦)ğŸš«ğŸš«è§†é¢‘åˆ†äº«ç½‘ç«™,ä¼ è¯´ä¸­è€å¸æœºå¼•ä»¥ä¸ºå‚²çš„å½±ç‰‡å¤©å ‚ğŸ¤­ğŸ¤­,å®ƒæ˜¯å½“å‰æœ€å¤§çš„ğŸš«ğŸš«è§†é¢‘ç½‘ç«™ä¹‹ä¸€,æ€»è®¿é—®é‡è¿‡ä¸€äº¿äººæ¬¡,Pornhubå®£å¸ƒé¢„è®¡äº2018å¹´æ¨å‡ºè¯†åˆ«ç³»ç»Ÿ,ç³»ç»Ÿå°†è‡ªåŠ¨è¯†åˆ«è§†é¢‘å†…æ¼”å‘˜,å¹¶å°†ä¹‹åˆ†é—¨åˆ«ç±»,æœåŠ¡åˆ†äº«éåŠå…¨çƒ.   â€”â€” [ç»´åŸºç™¾ç§‘](https://zh.wikipedia.org/wiki/Pornhub)


## 2. PornhubActionProject ç®€ä»‹ ğŸ”

> æ•°æ®å­˜å‚¨å•ä½: **`bit`**/**`Byte`**/**`KB`**/**`MB`**/**`GB`**/**`TB`**/ **`PB`**/**`EB`**/**`ZB`**/**`YB`**/**`BB`**/**`NB`**/**`DB`**
> 
> **`1 Byte = 8bit`** | **`1 KB = 1024Byte`** | **`1 MB = 1024KB`** | **`1 GB = 1024MB`**
> 
> **`1 TB = 1024GB`** | **`1 PB = 1024TB`** |  **`1 EB = 1024PB`** | **`1 ZB = 1024EB`**
> 
> **`1 YB = 1024ZB`** | **`1 BB = 1024YB`** | **`1 NB = 1024BB`** | **`1 DB = 1024NB`**
> 
> PornhubActionè¯ç”Ÿ:æºäºPornhub(ç”¨æˆ·ç¾¤ä½“/è§†é¢‘é›†åˆ/å¤šå…ƒåŒ–è®¿é—®é‡&æ—¥å¿—ä¿¡æ¯/åœ°åŸŸå›½é™…åŒ–ç­‰ç­‰)æ•°æ®é‡å·²è¾¾åˆ°EBçº§åˆ«.
> 
> ä¸ºæ­¤è¿›ä¸€æ­¥æ¿€å‘ä½ çš„å­¦ä¹ æ¬²æœ›,ä¸‡äº‹ä¿±å¤‡,åªæ¬ ä¸œé£,åºå¤§çš„æ•°æ®é›†åœ¨å‘æˆ‘ä»¬æŒ¥æ‰‹ğŸ‘‹,æˆ‘ä»¬å°†ç«™åœ¨å·¨äººè‚©è†€ä¸ŠWork.
> 
> å½“ç„¶è¿™ä»…ä»…æ˜¯ä¸ªèµ·ç‚¹,ä»»ä½•äººéƒ½å¯ä»¥ç”¨PornhubAction (å­¦ç”Ÿ/ç ”ç©¶å‘˜/çˆ±å¥½è€…/æå®¢/å·¥ç¨‹å¸ˆ/å¼€å‘è€…/å‘æ˜å®¶/åˆ›ä¸šè€…ç­‰ç­‰)éƒ½å¯ä»¥åœ¨Apache2.0å¼€æºåè®®ä¸‹å¼€å‘PornhubAction.
> 
> æˆ‘ä»¬å¸Œæœ›èƒ½é¼“åŠ±ä½ ä»¬åˆ›é€ è‡ªå·±æœ€å–œæ¬¢çš„è¯­è¨€ç•Œé¢,PornhubActionå°šæœªç«£å·¥,å®ƒè¿˜éœ€è¦è¢«è¿›ä¸€æ­¥æ‰©å±•å’Œä¸Šå±‚å»ºæ„,æˆ‘ä»¬åˆšå‘å¸ƒäº†æºä»£ç æœ€åˆç‰ˆæœ¬,å¹¶ä¸”å°†æŒç»­å®Œå–„å®ƒ.


## 3. PornhubAction éœ€æ±‚æè¿°
> ç»Ÿè®¡Pornhubè§†é¢‘ç½‘ç«™å¸¸è§„æŒ‡æ ‡,å„ç§TopNæŒ‡æ ‡.
> 
> ğŸ”¥ ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°`Top10`.
> ğŸ”¥ ç»Ÿè®¡è§†é¢‘ç±»åˆ«çƒ­åº¦`Top10`.
> ğŸ”¥ ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°`Top20`æ‰€å±ç±»åˆ«.
> ğŸ”¥ ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°`Top50`æ‰€å…³è”è§†é¢‘çš„æ‰€å±ç±»åˆ«Rank.
> ğŸ”¥ ç»Ÿè®¡æ¯ä¸ªç±»åˆ«ä¸­è§†é¢‘çƒ­åº¦`Top10`.
> ğŸ”¥ ç»Ÿè®¡æ¯ä¸ªç±»åˆ«ä¸­è§†é¢‘æµé‡`Top10`.
> ğŸ”¥ ç»Ÿè®¡ä¸Šä¼ è§†é¢‘æœ€å¤šçš„ç”¨æˆ·`Top10`ä»¥åŠç›¸å…³è§†é¢‘.
> ğŸ”¥ ç»Ÿè®¡æ¯ä¸ªç±»åˆ«è§†é¢‘è§‚çœ‹æ•°`Top10`.


## 4. PornhubAction æŠ€æœ¯é€‰å‹
- Hadoop2.7.2 : HDFS / MapReduce 
- 
- Hive 1.2.2 : Order By / Sort By / Distribute By / Cluster By / UDAF & UDTF / Orcå­˜å‚¨ / Hive åˆ†åŒº & åˆ†æ¡¶
- 
- Mysql 5.6

### 4.1 Pornhub åŸæ•°æ®å­˜å‚¨ä½ç½®
> åœ¨æœ¬åœ°æœåŠ¡å™¨ åˆ›å»ºPornhubåŸæ•°æ®å¤šçº§ç›®å½•.
> å°†PornhubåŸæ•°æ®ä¾æ¬¡ä¸Šä¼  æœ¬åœ°æœåŠ¡å™¨.
```
[root@systemhub711 ~]# cd /opt/module/datas/

[root@systemhub711 datas]# mkdir -p core_flow/develop/project/analysis/pornhub_action/metadata/

[root@systemhub711 datas]# mkdir -p core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_user/001

[root@systemhub711 datas]# mkdir -p core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/001
```

> åœ¨HDFS åˆ›å»ºPornhubåŸæ•°æ®å¤šçº§ç›®å½•.
```
[root@systemhub711 metadata]# hadoop fs -mkdir -p /core_flow/develop/project/analysis/pornhub_action/metadata

[root@systemhub711 metadata]# hadoop fs -mkdir -p /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_user/001

[root@systemhub711 metadata]# hadoop fs -mkdir -p /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/001

[root@systemhub711 metadata]# hadoop fs -ls /core_flow/develop/project/analysis/pornhub_action/metadata/
Found 2 items
drwxr-xr-x   - root supergroup 0  /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_user/001
drwxr-xr-x   - root supergroup 0  /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/001
[root@systemhub711 metadata]#
```
> å†å°†æœ¬åœ°æœåŠ¡å™¨åŸæ•°æ®ä¾æ¬¡ä¸Šä¼  HDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­å­˜å‚¨.
```
[root@systemhub711 /]# hadoop fs -copyFromLocal /opt/module/datas/core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_user/001/pornhub_user.txt /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_user/001/pornhub_user.txt

[root@systemhub711 /]# hadoop fs -copyFromLocal /opt/module/datas/core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/001/pornhub_video.txt /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/001/pornhub_video.txt

[root@systemhub711 /]# hadoop fs -ls /core_flow/develop/project/analysis/pornhub_action/metadata/*
Found 1 items
drwxr-xr-x   - root supergroup 0  /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_user/001
Found 1 items
drwxr-xr-x   - root supergroup 0  /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/001
```

![enter image description here](https://raw.githubusercontent.com/geekparkhub/geekparkhub.github.io/master/technical_guide/assets/media/hive/project_cover/start_001.jpg)

> è§†é¢‘æ•°æ®é›†: `/core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/001`
> 
> ç”¨æˆ·æ•°æ®é›†:`/core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_user/001`

### 4.2 æ•°æ®æ¸…æ´—
> Hadoop MapReduce

### 4.3 æ•°æ®åˆ†æ
> MapReduce or Hive


## 5. Develop PornhubAction

### 5.1 æ•°æ®ç»“æ„
#### 5.1.1 è§†é¢‘ æ•°æ®è¡¨ç»“æ„
| å­—æ®µ      |     å¤‡æ³¨ |   è¯¦ç»†æè¿°   |
| :--------: | :--------:| :------:|
| videoid | è§†é¢‘å”¯ä¸€id | 11ä½å­—ç¬¦ä¸² |
| uploader|è§†é¢‘ä¸Šä¼ è€… | ä¸Šä¼ è§†é¢‘ç”¨æˆ·å:Stringç±»å‹ |
| updates | è§†é¢‘æ—¥æœŸ | è§†é¢‘ä¸Šä¼ æ—¥æœŸ|
| category | è§†é¢‘ç±»åˆ« | ä¸Šä¼ è§†é¢‘æŒ‡å®šè§†é¢‘åˆ†ç±» |
| length | è§†é¢‘é•¿åº¦ | æ ‡è¯†è§†é¢‘é•¿åº¦:æ•´æ•°ç±»å‹ |
| views | è§‚çœ‹æ¬¡æ•° | è§†é¢‘è¢«æµè§ˆæ¬¡æ•° |
| rate | è§†é¢‘è¯„åˆ† | æ»¡åˆ†5åˆ† |
| ratings | æµé‡ | è§†é¢‘æµé‡:æ•´æ•°ç±»å‹ |
| conments | è¯„è®ºæ•° | ä¸€ä¸ªè§†é¢‘è¯„è®ºæ•°:æ•´æ•°ç±»å‹ |
| relatedids | ç›¸å…³è§†é¢‘id | ç›¸å…³è§†é¢‘id,æœ€å¤š20ä¸ª |

#### 5.1.2 ç”¨æˆ· æ•°æ®è¡¨ç»“æ„
| å­—æ®µ      |     å¤‡æ³¨ |   è¯¦ç»†æè¿°   |
| :--------: | :--------:| :------:|
| uploader  |   ä¸Šä¼ è€…ç”¨æˆ·å |  string |
| videos    |   ä¸Šä¼ è§†é¢‘æ•° |  int |
| friends   |   æœ‹å‹æ•°é‡ |  int  |

### 5.2 ETLåŸå§‹æ•°æ®
> é€šè¿‡è§‚å¯ŸåŸå§‹æ•°æ®å½¢å¼å¯ä»¥å‘ç°,è§†é¢‘å¯ä»¥æœ‰å¤šä¸ªæ‰€å±åˆ†ç±»,æ¯ä¸ªæ‰€å±åˆ†ç±»ç”¨&ç¬¦å·åˆ†å‰²,ä¸”åˆ†å‰²ä¸¤è¾¹æœ‰ç©ºæ ¼å­—ç¬¦,åŒæ—¶ç›¸å…³è§†é¢‘ä¹Ÿæ˜¯å¯ä»¥æœ‰å¤šä¸ªå…ƒç´ ,å¤šä¸ªç›¸å…³è§†é¢‘åˆç”¨â€œ\tâ€è¿›è¡Œåˆ†å‰²,ä¸ºäº†åˆ†ææ•°æ®æ—¶æ–¹ä¾¿å¯¹å­˜åœ¨å¤šä¸ªå­å…ƒç´ çš„æ•°æ®è¿›è¡Œæ“ä½œ.
> 
> é¦–å…ˆè¿›è¡Œæ˜¯å¯¹æ•°æ®é‡ç»„æ¸…æ´—æ“ä½œ,å³å°†æ‰€æœ‰ç±»åˆ«ç”¨â€œ&â€åˆ†å‰²,åŒæ—¶å»é™¤ä¸¤è¾¹ç©ºæ ¼,å¤šä¸ªç›¸å…³è§†é¢‘idä½¿ç”¨â€œ&â€è¿›è¡Œåˆ†å‰².

### 5.3 JetBrains IntelliJ IDEA New Maven Project | æ­¤è¿‡ç¨‹çœç•¥
#### 5.3.1 Update Maven pom.xml
``` xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.geekparkhub.core.application.analysis.pornhub</groupId>
    <artifactId>PornhubAction</artifactId>
    <version>1.0-SNAPSHOT</version>

    <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>RELEASE</version>
        </dependency>
        <dependency>
            <groupId>org.apache.logging.log4j</groupId>
            <artifactId>log4j-core</artifactId>
            <version>2.8.2</version>
        </dependency>

        <dependency>
            <groupId>org.apache.hadoop</groupId>
            <artifactId>hadoop-common</artifactId>
            <version>2.7.2</version>
        </dependency>

        <dependency>
            <groupId>org.apache.hadoop</groupId>
            <artifactId>hadoop-client</artifactId>
            <version>2.7.2</version>
        </dependency>

        <dependency>
            <groupId>org.apache.hadoop</groupId>
            <artifactId>hadoop-hdfs</artifactId>
            <version>2.7.2</version>
        </dependency>

        <dependency>
            <groupId>org.apache.hadoop</groupId>
            <artifactId>hadoop-yarn-server-resourcemanager</artifactId>
            <version>2.7.2</version>
        </dependency>

    </dependencies>

</project>
```

#### 5.3.2 Create PornhubActionETLMapper.class
``` java
package com.geekparkhub.core.application.analysis.pornhub;

import org.apache.commons.lang.StringUtils;
import org.apache.hadoop.io.LongWritable;
import org.apache.hadoop.io.NullWritable;
import org.apache.hadoop.io.Text;
import org.apache.hadoop.mapreduce.Mapper;

import java.io.IOException;

/**
 * Geek International Park | æå®¢å›½é™…å…¬å›­
 * GeekParkHub | æå®¢å®éªŒå®¤
 * Website | https://www.geekparkhub.com/
 * Description | Openå¼€æ”¾ Â· Creationåˆ›æƒ³ | OpenSourceå¼€æ”¾æˆå°±æ¢¦æƒ³ GeekParkHubå…±å»ºå‰æ‰€æœªè§
 * HackerParkHub | é»‘å®¢å…¬å›­æ¢çº½
 * Website | https://www.hackerparkhub.com/
 * Description | ä»¥æ— æ‰€ç•æƒ§çš„æ¢ç´¢ç²¾ç¥ å¼€åˆ›æœªçŸ¥æŠ€æœ¯ä¸å¯¹æŠ€æœ¯çš„å´‡æ‹œ
 * GeekDeveloper : JEEP-711
 *
 * @author system
 * <p>
 * PornhubActionETLMapper
 * <p>
 */

public class PornhubActionETLMapper extends Mapper<LongWritable, Text, Text, NullWritable> {

    /**
     * Extract k
     * æå–k
     */
    Text k = new Text();

    /**
     * Rewrite the map() method
     * é‡å†™map()æ–¹æ³•
     *
     * @param key
     * @param value
     * @param context
     * @throws IOException
     * @throws InterruptedException
     */
    @Override
    protected void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {

        /**
         * 1. Get the first row of data
         * 1. è·å–ç¬¬ä¸€è¡Œæ•°æ®
         */
        String line = value.toString();

        /**
         * 2. Cleaning data
         * 2. æ¸…æ´—æ•°æ®
         */
        String etlString = PornhubActionETLUtil.getETLString(line);
        // å¦‚æœæ•°æ®ä¸ºç©º,åˆ™ç›´æ¥è¿”å›.
        if (StringUtils.isBlank(etlString)){
            return;
        }

        /**
         * 3.Package object
         * 3.å°è£…å¯¹è±¡
         */
        k.set(etlString);

        /**
         * 4.data input
         * 4.å†™å…¥æ•°æ®
         */
        context.write(k, NullWritable.get());

    }
}
```
#### 5.3.3 Create PornhubActionETLUtil.class
``` java
package com.geekparkhub.core.application.analysis.pornhub;

/**
 * Geek International Park | æå®¢å›½é™…å…¬å›­
 * GeekParkHub | æå®¢å®éªŒå®¤
 * Website | https://www.geekparkhub.com/
 * Description | Openå¼€æ”¾ Â· Creationåˆ›æƒ³ | OpenSourceå¼€æ”¾æˆå°±æ¢¦æƒ³ GeekParkHubå…±å»ºå‰æ‰€æœªè§
 * HackerParkHub | é»‘å®¢å…¬å›­æ¢çº½
 * Website | https://www.hackerparkhub.com/
 * Description | ä»¥æ— æ‰€ç•æƒ§çš„æ¢ç´¢ç²¾ç¥ å¼€åˆ›æœªçŸ¥æŠ€æœ¯ä¸å¯¹æŠ€æœ¯çš„å´‡æ‹œ
 * GeekDeveloper : JEEP-711
 *
 * @author system
 * <p>
 * PornhubActionETLUtil
 * <p>
 * è¿‡æ»¤ä¸åˆæ³•æ•°æ® | Filter illegal data
 * å»é™¤ç±»åˆ«å­—æ®µä¸­çš„ç©ºæ ¼ | Remove spaces in the category field
 * å°†\tæ›¿æ¢æˆ&ç¬¦ | Replace \t with ampersand
 * <p>
 */

public class PornhubActionETLUtil {

    /**
     * Data cleaning Method
     * æ•°æ®æ¸…æ´—æ–¹æ³•
     *
     * @param ori
     * @return
     */
    public static String getETLString(String ori) {

        /**
         * 1.Get data and cut data
         * è·å–æ•°æ®å¹¶åˆ‡å‰²æ•°æ®
         */
        String[] split = ori.split("\t");

        /**
         * 2.Filter illegal data
         * è¿‡æ»¤ä¸åˆæ³•æ•°æ®
         */
        if (split.length < 9) {
            return null;
        }

        /**
         * 3.Remove spaces in the category field
         * å»é™¤ç±»åˆ«å­—æ®µä¸­çš„ç©ºæ ¼
         */
        split[3] = split[3].replace(" ", "");

        /**
         * 4.Replace \t with ampersand
         * å°†\tæ›¿æ¢æˆ&ç¬¦
         */
        StringBuffer sb = new StringBuffer();
        for (int i = 0; i < split.length; i++) {
            if (i < 9) {
                // å¦‚æœå­—æ®µé•¿åº¦ç›¸ç­‰,åˆ™ä¸è¿½åŠ \tå­—ç¬¦
                if (i == split.length - 1) {
                    sb.append(split[i]);
                } else {
                    // å¦‚æœå­—æ®µé•¿åº¦å°äº9,åˆ™è¿½åŠ \tå­—ç¬¦
                    sb.append(split[i] + "\t");
                }
            } else {
                // å¦‚æœå­—æ®µé•¿åº¦ç›¸ç­‰,åˆ™ä¸è¿½åŠ å­—ç¬¦
                if (i == split.length - 1) {
                    sb.append(split[i]);
                } else {
                    // å¦‚æœå­—æ®µé•¿åº¦å°äº9,åˆ™è¿½åŠ &å­—ç¬¦
                    sb.append(split[i] + "&");
                }
            }
        }
        return sb.toString();
    }
}
```
#### 5.3.4 Create PornhubActionETLDriver.class
``` java
package com.geekparkhub.core.application.analysis.pornhub;

import org.apache.hadoop.conf.Configuration;
import org.apache.hadoop.fs.Path;
import org.apache.hadoop.io.NullWritable;
import org.apache.hadoop.io.Text;
import org.apache.hadoop.mapreduce.Job;
import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;
import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;
import org.apache.hadoop.util.Tool;
import org.apache.hadoop.util.ToolRunner;

/**
 * Geek International Park | æå®¢å›½é™…å…¬å›­
 * GeekParkHub | æå®¢å®éªŒå®¤
 * Website | https://www.geekparkhub.com/
 * Description | Openå¼€æ”¾ Â· Creationåˆ›æƒ³ | OpenSourceå¼€æ”¾æˆå°±æ¢¦æƒ³ GeekParkHubå…±å»ºå‰æ‰€æœªè§
 * HackerParkHub | é»‘å®¢å…¬å›­æ¢çº½
 * Website | https://www.hackerparkhub.com/
 * Description | ä»¥æ— æ‰€ç•æƒ§çš„æ¢ç´¢ç²¾ç¥ å¼€åˆ›æœªçŸ¥æŠ€æœ¯ä¸å¯¹æŠ€æœ¯çš„å´‡æ‹œ
 * GeekDeveloper : JEEP-711
 *
 * @author system
 * <p>
 * PornhubActionETLDriver
 * <p>
 */

public class PornhubActionETLDriver implements Tool {

    Configuration configuration;

    public static void main(String[] args) throws Exception {
        int run = ToolRunner.run(new PornhubActionETLDriver(), args);
        System.out.println("Result is = " + run);
    }

    public int run(String[] args) throws Exception {
        /**
         * 1. Get the Job object
         * 1. è·å–Jobå¯¹è±¡
         */
        Job job = Job.getInstance(getConf());

        /**
         * 2. Set the jar storage location
         * 2. è®¾ç½®jarå­˜å‚¨ä½ç½®
         */
        job.setJarByClass(PornhubActionETLDriver.class);

        /**
         * 3. Associate Map classes
         * 3. å…³è”Mapç±»
         */
        job.setMapperClass(PornhubActionETLMapper.class);

        /**
         * 4. Set the key and value types of the output data in the Mapper stage.
         * 4. è®¾ç½®Mapperé˜¶æ®µè¾“å‡ºæ•°æ®çš„keyä¸valueç±»å‹
         */
        job.setMapOutputKeyClass(Text.class);
        job.setMapOutputValueClass(NullWritable.class);

        /**
         * 5. Set the key and value types for the final data output
         * 5. è®¾ç½®æœ€ç»ˆæ•°æ®è¾“å‡ºçš„keyä¸valueç±»å‹
         */
        job.setOutputKeyClass(Text.class);
        job.setOutputValueClass(NullWritable.class);

        /**
         * 6. Set the input path and output path
         * 6. è®¾ç½®è¾“å…¥è·¯å¾„å’Œè¾“å‡ºè·¯å¾„
         */
        FileInputFormat.setInputPaths(job, new Path(args[0]));
        FileOutputFormat.setOutputPath(job, new Path(args[1]));

        /**
         * 7. Submit the Job
         * 7. æäº¤Job
         */
        boolean result = job.waitForCompletion(true);

        return result ? 0 : 1;
    }

    public void setConf(Configuration conf) {
        configuration = conf;
    }

    public Configuration getConf() {
        return configuration;
    }
}
```
#### 5.3.5 å°†ETLç¨‹åºæ‰“åŒ…å¹¶ä¸Šä¼ 
![enter image description here](https://raw.githubusercontent.com/geekparkhub/geekparkhub.github.io/master/technical_guide/assets/media/hive/project_cover/start_003.jpg)

> åˆ›å»ºjarsç›®å½•,å°†jarä¸Šä¼ åˆ°æ­¤ç›®å½•ä¸­.
```
[root@systemhub711 datas]# cd core_flow/develop/project/analysis/pornhub_action/
[root@systemhub711 pornhub_action]# mkdir jars
[root@systemhub711 pornhub_action]# ll
total 8
drwxr-xr-x. 2 root root 4096 Apr  4 01:15 jars
drwxr-xr-x. 4 root root 4096 Apr  3 22:36 metadata
[root@systemhub711 pornhub_action]# cd jars
[root@systemhub711 jars]# ll
total 8
-rw-r--r--. 1 root root 6916 Apr  4 01:15 PornhubAction-1.0.jar
[root@systemhub711 jars]# 
```
#### 5.3.6 æ‰§è¡ŒETLç¨‹åº
> è®¾ç½®PornhubActionETLDriverä¸»ç±»å…¨åŒ…å / è®¾ç½®è¾“å…¥è·¯å¾„ / è®¾ç½®è¾“å‡ºè·¯å¾„
```
[root@systemhub711 jars]# yarn jar PornhubAction-1.0.jar com.geekparkhub.core.application.analysis.pornhub.PornhubActionETLDriver /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/001 /core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/output
INFO client.RMProxy: Connecting to ResourceManager at systemhub611/172.16.168.131:8032
INFO input.FileInputFormat: Total input paths to process : 1
INFO mapreduce.JobSubmitter: number of splits:1
INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1554299879739_0001
INFO impl.YarnClientImpl: Submitted application application_1554299879739_0001
INFO mapreduce.Job: The url to track the job: http://systemhub611:8088/proxy/application_1554299879739_0001/
INFO mapreduce.Job: Running job: job_1554299879739_0001
INFO mapreduce.Job: Job job_1554299879739_0001 running in uber mode : false
INFO mapreduce.Job:  map 0% reduce 0%
INFO mapreduce.Job:  map 100% reduce 0%
INFO mapreduce.Job:  map 100% reduce 100%
INFO mapreduce.Job: Job job_1554299879739_0001 completed successfully
INFO mapreduce.Job: Counters: 49
        File System Counters
                FILE: Number of bytes read=56878
                FILE: Number of bytes written=348933
                FILE: Number of read operations=0
                FILE: Number of large read operations=0
                FILE: Number of write operations=0
                HDFS: Number of bytes read=56277
                HDFS: Number of bytes written=55764
                HDFS: Number of read operations=6
                HDFS: Number of large read operations=0
                HDFS: Number of write operations=2
        Job Counters 
                Launched map tasks=1
                Launched reduce tasks=1
                Data-local map tasks=1
                Total time spent by all maps in occupied slots (ms)=8729
                Total time spent by all reduces in occupied slots (ms)=4809
                Total time spent by all map tasks (ms)=8729
                Total time spent by all reduce tasks (ms)=4809
                Total vcore-milliseconds taken by all map tasks=8729
                Total vcore-milliseconds taken by all reduce tasks=4809
                Total megabyte-milliseconds taken by all map tasks=8938496
                Total megabyte-milliseconds taken by all reduce tasks=4924416
        Map-Reduce Framework
                Map input records=189
                Map output records=189
                Map output bytes=56129
                Map output materialized bytes=56878
                Input split bytes=184
                Combine input records=0
                Combine output records=0
                Reduce input groups=189
                Reduce shuffle bytes=56878
                Reduce input records=189
                Reduce output records=189
                Spilled Records=378
                Shuffled Maps =1
                Failed Shuffles=0
                Merged Map outputs=1
                GC time elapsed (ms)=223
                CPU time spent (ms)=2120
                Physical memory (bytes) snapshot=297361408
                Virtual memory (bytes) snapshot=4124475392
                Total committed heap usage (bytes)=139624448
        Shuffle Errors
                BAD_ID=0
                CONNECTION=0
                IO_ERROR=0
                WRONG_LENGTH=0
                WRONG_MAP=0
                WRONG_REDUCE=0
        File Input Format Counters 
                Bytes Read=56093
        File Output Format Counters 
                Bytes Written=55764
Result is = 0
[root@systemhub711 jars]# 
```

### 5.4 åˆ›å»ºæ•°æ®åº“&æ•°æ®è¡¨
#### 5.4.1 åˆ›å»º : `pornhub_action`æ•°æ®åº“
```
hive (default)> create database if not exists pornhub_action;
OK
Time taken: 1.06 seconds
hive (default)> show databases;
OK
database_name
pornhub_action
Time taken: 0.308 seconds, Fetched: 3 row(s)
hive (default)> use pornhub_action;
OK
Time taken: 0.043 seconds
hive (pornhub_action)>
```
#### 5.4.2 åˆ›å»ºåŸæ•°æ®è¡¨ : `pornhub_video_ori` / `pornhub_user_ori`
> 
> `create table pornhub_video_ori`
``` sql
hive (pornhub_action)> create table pornhub_video_ori(
                     > videoId string,
                     > uploader string,
                     > updates int,
                     > category array<string>,
                     > length int,
                     > views int,
                     > rate float,
                     > ratings int,
                     > comments int,
                     > relatedId array<string>)
                     > row format delimited
                     > fields terminated by "\t"
                     > collection items terminated by "&"
                     > stored as textfile;
OK
Time taken: 0.321 seconds
hive (pornhub_action)> 
```
> `create table pornhub_user_ori`
```
hive (pornhub_action)> create table pornhub_user_ori(
                     > uploader string,
                     > videos int,
                     > friends int)
                     > row format delimited
                     > fields terminated by "\t"
                     > stored as textfile;
OK
Time taken: 0.103 seconds
hive (pornhub_action)> 
```
> show tables
```
hive (pornhub_action)> show tables;
OK
tab_name
pornhub_user_ori
pornhub_video_ori
Time taken: 0.037 seconds, Fetched: 2 row(s)
hive (pornhub_action)> 
```
#### 5.4.3 åˆ›å»ºåˆ—å¼å­˜å‚¨æ•°æ®è¡¨ : `pornhub_video_orc` / `pornhub_user_orc`
> create table pornhub_video_orc
``` sql
hive (pornhub_action)> create table pornhub_video_orc(
                     > videoId string,
                     > uploader string,
                     > updates int,
                     > category array<string>,
                     > length int,
                     > views int,
                     > rate float,
                     > ratings int,
                     > comments int,
                     > relatedId array<string>)
                     > row format delimited
                     > fields terminated by "\t"
                     > collection items terminated by "&"
                     > stored as orc;
OK
Time taken: 0.142 seconds
hive (pornhub_action)> 
```
> create table pornhub_user_orc
```
hive (pornhub_action)> create table pornhub_user_orc(
                     > uploader string,
                     > videos int,
                     > friends int)
                     > row format delimited
                     > fields terminated by "\t"
                     > stored as orc;
OK
Time taken: 0.086 seconds
hive (pornhub_action)> 
```
> show tables
```
hive (pornhub_action)> show tables;
OK
tab_name
pornhub_user_orc
pornhub_user_ori
pornhub_video_orc
pornhub_video_ori
Time taken: 0.037 seconds, Fetched: 4 row(s)
hive (pornhub_action)>
```

### 5.5 åŠ è½½æ•°æ®
#### 5.5.1 Load Data For `pornhub_video_ori`
```
hive (pornhub_action)> load data inpath '/core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_video/output/part-r-00000' into table pornhub_video_ori;
Loading data to table pornhub_action.pornhub_video_ori
Table pornhub_action.pornhub_video_ori stats: [numFiles=1, totalSize=55764]
OK
Time taken: 0.922 seconds
hive (pornhub_action)> 
```
#### 5.5.2 Load Data For `pornhub_user_ori`
```
hive (pornhub_action)> load data inpath '/core_flow/develop/project/analysis/pornhub_action/metadata/pornhub_user/001/pornhub_user.txt' into table pornhub_user_ori;
Loading data to table pornhub_action.pornhub_user_ori
Table pornhub_action.pornhub_user_ori stats: [numFiles=1, totalSize=36498109]
OK
Time taken: 0.476 seconds
hive (pornhub_action)> 
```
#### 5.5.3 Insert Table For `pornhub_video_orc`
```
hive (pornhub_action)> insert overwrite table pornhub_video_orc
                     > select * from pornhub_video_ori;
Query ID = root_4633_abb46085-5540-42cd-8f07-c38dbb5f2b75
MapReduce Jobs Launched: 
Stage-Stage-1: Map: 1   Cumulative CPU: 2.2 sec   HDFS Read: 60976 HDFS Write: 35178 SUCCESS
Total MapReduce CPU Time Spent: 2 seconds 200 msec
OK
pornhub_video_ori.videoid       pornhub_video_ori.uploader      pornhub_video_ori.updates       pornhub_video_ori.category      pornhub_video_ori.length  pornhub_video_ori.views pornhub_video_ori.rate  pornhub_video_ori.ratings       pornhub_video_ori.comments      pornhub_video_ori.relatedid
Time taken: 38.165 seconds
hive (pornhub_action)> 
```
#### 5.5.4 Insert Table For `pornhub_user_orc`
```
hive (pornhub_action)> insert overwrite table pornhub_user_orc
                     > select * from pornhub_user_ori;
Query ID = root_53_7e79a39b-7ca2-498e-ba34-37ecf6112423
Table pornhub_action.pornhub_user_orc stats: [numFiles=1, numRows=2139109, totalSize=18167801, rawDataSize=218189118]
MapReduce Jobs Launched: 
Stage-Stage-1: Map: 1   Cumulative CPU: 8.17 sec   HDFS Read: 36501990 HDFS Write: 18167900 SUCCESS
Total MapReduce CPU Time Spent: 8 seconds 170 msec
OK
pornhub_user_ori.uploader       pornhub_user_ori.videos pornhub_user_ori.friends
Time taken: 33.949 seconds
hive (pornhub_action)> 
```

### 5.6 ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»ğŸ‘¨ğŸ»â€ğŸ’» Start Coding ! ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»ğŸ‘¨ğŸ»â€ğŸ’»
> äº‹å…ˆå¼€å¯ä¸¤ä¸ªSSHçª—å£,StartCoding
> 
> çª—å£ä¸€ : å¼€å¯æœåŠ¡ç«¯
```
[root@systemhub711 ~]# cd /opt/module/hive/bin/
[root@systemhub711 bin]# ./hiveserver2
OK
```
> çª—å£äºŒ : å¼€å¯å®¢æˆ·ç«¯,å¹¶è¿›å…¥pornhub_actionæ•°æ®åº“.
```
[root@systemhub711 ~]# cd /opt/module/hive/
[root@systemhub711 hive]# bin/beeline
beeline> !connect jdbc:hive2://systemhub711:10000
Connecting to jdbc:hive2://systemhub711:10000
Enter username for jdbc:hive2://systemhub711:10000: root
Enter password for jdbc:hive2://systemhub711:10000: 
Connected to: Apache Hive (version 1.2.1)
Driver: Hive JDBC (version 1.2.1)
Transaction isolation: TRANSACTION_REPEATABLE_READ
0: jdbc:hive2://systemhub711:10000> show databases;
+-----------------+--+
|  database_name  |
+-----------------+--+
| default         |
| hive_db         |
| pornhub_action  |
+-----------------+--+
3 rows selected (2.303 seconds)
0: jdbc:hive2://systemhub711:10000> usr pornhub_action;
0: jdbc:hive2://systemhub711:10000> show tables;
+--------------------+--+
|      tab_name      |
+--------------------+--+
| pornhub_user_orc   |
| pornhub_user_ori   |
| pornhub_video_orc  |
| pornhub_video_ori  |
+--------------------+--+
4 rows selected (0.095 seconds)
0: jdbc:hive2://systemhub711:10000>
```

#### 5.6.1 ğŸ”¥ ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°`Top5` ğŸ”¥
> ğŸ‘¨ğŸ»â€ğŸ’» Codingæ€è·¯ ğŸ‘¨ğŸ»â€ğŸ’» : ä½¿ç”¨`order by`æŒ‰ç…§viewså­—æ®µå…¨å±€æ’åºå³å¯,åŒæ—¶è®¾ç½®åªæ˜¾ç¤ºå‰5æ¡æ•°æ®.
``` powershell
0: jdbc:hive2://systemhub711:10000> SSELECT
	videoid,
	uploader,
	updates,
	category,
	length,
	views,
	rate,
	ratings,
	comments 
FROM
	pornhub_video_orc 
ORDER BY
	views DESC 
	LIMIT 10;
INFO  : MapReduce Total cumulative CPU time: 4 seconds 560 msec
INFO  : Ended Job = job_1554353095768_0005
+--------------+------------------+----------+--------------------+---------+-----------+--------------------+----------+-----------+--+
|   videoid    |     uploader     | updates  |      category      | length  |   views   |        rate        | ratings  | comments  |
+--------------+------------------+----------+--------------------+---------+-----------+--------------------+----------+-----------+--+
| dMH0bHeiRNg  | judsonlaipply    | 415      | ["Comedy"]         | 360     | 42513417  | 4.679999828338623  | 87520    | 22718     |
| 0XxI-hvPRRA  | smosh            | 286      | ["Comedy"]         | 194     | 20282464  | 4.489999771118164  | 80710    | 35408     |
| 1dmVU08zVpA  | NBC              | 670      | ["Entertainment"]  | 165     | 16087899  | 4.789999961853027  | 30085    | 5945      |
| RB-wUgnyGv0  | ChrisInScotland  | 506      | ["Entertainment"]  | 159     | 15712924  | 4.78000020980835   | 8222     | 1996      |
| QjA5faZF1A8  | guitar90         | 308      | ["Music"]          | 320     | 15256922  | 4.840000152587891  | 120506   | 38393     |
+--------------+------------------+----------+--------------------+---------+-----------+--------------------+----------+-----------+--+
5 rows selected (42.078 seconds)
0: jdbc:hive2://systemhub711:10000> 
```
#### 5.6.1.2 ğŸ”¥ ç»Ÿè®¡è§†é¢‘ç±»åˆ«çƒ­åº¦`Top10` ğŸ”¥
> ğŸ‘¨ğŸ»â€ğŸ’» Codingæ€è·¯ ğŸ‘¨ğŸ»â€ğŸ’» : 
> å³ç»Ÿè®¡æ¯ä¸ªç±»åˆ«æœ‰è§†é¢‘æ•°é‡,æ˜¾ç¤ºå‡ºåŒ…å«è§†é¢‘æœ€å¤šå‰10ä¸ªç±»åˆ«.
> éœ€è¦æŒ‰ç…§ç±»åˆ«`group by`èšåˆ,ç„¶å`count`ç»„å†…videoIdä¸ªæ•°å³å¯.
> å½“å‰è¡¨ç»“æ„ä¸º,ä¸€ä¸ªè§†é¢‘å¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªç±»åˆ«,æ‰€ä»¥å¦‚æœè¦`group by`ç±»åˆ«,éœ€è¦å…ˆå°†ç±»åˆ«è¿›è¡Œåˆ—è½¬è¡Œ(å±•å¼€),ç„¶åå†è¿›è¡Œcount,æœ€åæŒ‰ç…§çƒ­åº¦æ’åº,æ˜¾ç¤ºå‰10æ¡.
``` sql
0: jdbc:hive2://systemhub711:10000> 
SELECT
	category_name AS category,
	count(pronhub.videoId) AS hot 
FROM
	(
	SELECT
		videoId,
		category_name 
	FROM
		pornhub_video_orc lateral VIEW explode (category) t_catetory AS category_name 
	) pronhub 
GROUP BY
	pronhub.category_name 
ORDER BY
	hot DESC 
	LIMIT 10;
INFO  : Number of reduce tasks not specified. Estimated from input data size: 1
INFO  : MapReduce Total cumulative CPU time: 3 seconds 900 msec
INFO  : Ended Job = job_1554353095768_0007
+----------------+------+--+
|    category    | hot  |
+----------------+------+--+
| Comedy         | 46   |
| Entertainment  | 41   |
| Music          | 23   |
| Film           | 21   |
| Animation      | 21   |
| Blogs          | 20   |
| People         | 20   |
| Politics       | 16   |
| News           | 16   |
| Sports         | 9    |
+----------------+------+--+
10 rows selected (79.143 seconds)
0: jdbc:hive2://systemhub711:10000> 
```
#### 5.6.1.3 ğŸ”¥ ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°`Top20`æ‰€å±ç±»åˆ« ğŸ”¥
> ğŸ‘¨ğŸ»â€ğŸ’» Codingæ€è·¯ ğŸ‘¨ğŸ»â€ğŸ’» : 
> å…ˆæ‰¾åˆ°è§‚çœ‹æ•°æœ€é«˜20ä¸ªè§†é¢‘æ‰€å±æ¡ç›®çš„æ‰€æœ‰ä¿¡æ¯,é™åºæ’åˆ—.
> å°†20æ¡ä¿¡æ¯ä¸­çš„`category`åˆ†è£‚å‡ºæ¥(åˆ—è½¬è¡Œ),æœ€åæŸ¥è¯¢è§†é¢‘åˆ†ç±»åç§°å’Œè¯¥åˆ†ç±»ä¸‹æœ‰å¤šå°‘ä¸ªTop20çš„è§†é¢‘.
```
0: jdbc:hive2://systemhub711:10000> 
SSELECT
	category_name AS category,
	count(pronhub2.videoId) AS hot_with_views 
FROM
	(
	SELECT
		videoId,
		category_name 
	FROM
		(
		SELECT
			* 
		FROM
			pornhub_video_orc 
		ORDER BY
			views DESC 
			LIMIT 20 
		) pronhub1 lateral VIEW explode (category) t_catetory AS category_name 
	) pronhub2 
GROUP BY
	category_name 
ORDER BY
	hot_with_views DESC;
INFO  : Number of reduce tasks determined at compile time: 1
INFO  : MapReduce Total cumulative CPU time: 3 seconds 580 msec
INFO  : Ended Job = job_1554353095768_0010
+----------------+-----------------+--+
|    category    | hot_with_views  |
+----------------+-----------------+--+
| Entertainment  | 6               |
| Comedy         | 6               |
| Music          | 5               |
| People         | 2               |
| Blogs          | 2               |
| UNA            | 1               |
+----------------+-----------------+--+
6 rows selected (109.713 seconds)
0: jdbc:hive2://systemhub711:10000> 
```
#### 5.6.1.4 ğŸ”¥ ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°`Top50`æ‰€å…³è”è§†é¢‘çš„æ‰€å±ç±»åˆ«Rank ğŸ”¥
> ğŸ‘¨ğŸ»â€ğŸ’» Codingæ€è·¯ ğŸ‘¨ğŸ»â€ğŸ’» : 
> æŸ¥è¯¢è§‚çœ‹æ•°æœ€å¤šçš„å‰50ä¸ªè§†é¢‘æ‰€æœ‰ä¿¡æ¯(åŒ…å«æ¯ä¸ªè§†é¢‘å¯¹åº”çš„å…³è”è§†é¢‘),è®°ä¸ºä¸´æ—¶è¡¨pronhub1
> å°†æ‰¾åˆ°çš„50æ¡è§†é¢‘ä¿¡æ¯ç›¸å…³è§†é¢‘`relatedId`åˆ—è½¬è¡Œ,è®°ä¸ºä¸´æ—¶è¡¨pronhub2
> å°†ç›¸å…³è§†é¢‘idå’Œpornhub_video_orcè¡¨è¿›è¡Œ`inner join`æ“ä½œ.
> æŒ‰ç…§è§†é¢‘ç±»åˆ«è¿›è¡Œåˆ†ç»„,ç»Ÿè®¡æ¯ç»„è§†é¢‘ä¸ªæ•°,ç„¶åæ’è¡Œ.
> 
> 1.pronhub1 : è§‚çœ‹æ•°å‰50è§†é¢‘.
``` sql
0: jdbc:hive2://systemhub711:10000>
SELECT
	* 
FROM
	pornhub_video_orc 
ORDER BY
	views DESC 
	LIMIT 50;
INFO  : Number of reduce tasks determined at compile time: 1
```
> 2.pronhub2 : å°†ç›¸å…³è§†é¢‘çš„idè¿›è¡Œåˆ—è½¬è¡Œæ“ä½œ.
``` sql
0: jdbc:hive2://systemhub711:10000>
SELECT
	explode ( relatedId ) AS videoId
FROM
	pornhub1;
INFO  : Number of reduce tasks determined at compile time: 1
```

> 3.å°†ç›¸å…³è§†é¢‘çš„idå’Œyoutube_orcè¡¨è¿›è¡Œinner joinæ“ä½œ
``` sql
0: jdbc:hive2://systemhub711:10000>
(SELECT DISTINCT
	(pornhub2.videoId),
	pornhub3.category 
	FROM
		pornhub2
	INNER JOIN pornhub_video_orc pornhub3 ON pornhub2.videoId = pornhub3.videoId 
	) pornhub4 lateral VIEW explode (category) t_catetory AS category_name;
INFO  : Number of reduce tasks determined at compile time: 1
```

> 4.æŒ‰ç…§è§†é¢‘ç±»åˆ«è¿›è¡Œåˆ†ç»„,ç»Ÿè®¡æ¯ç»„è§†é¢‘ä¸ªæ•°,ç„¶åæ’è¡Œ.
``` sql
0: jdbc:hive2://systemhub711:10000>
SELECT
	category_name AS category,
	count(pronhub5.videoId) AS hot 
FROM
	(
	SELECT
		videoId,
		category_name 
	FROM
		(
		SELECT DISTINCT
			(pronhub2.videoId),
			pronhub3.category 
		FROM
			(
			SELECT
				explode (relatedId) AS videoId 
			FROM
				(
				SELECT
					* 
				FROM
					pornhub_video_orc 
				ORDER BY
					views DESC 
					LIMIT 50 
				) pronhub1 
			) pronhub2
			INNER JOIN pornhub_video_orc pronhub3 ON pronhub2.videoId = pronhub3.videoId 
		) pronhub4 lateral VIEW explode (category) t_catetory AS category_name 
	) pronhub5 
GROUP BY
	category_name 
ORDER BY
	hot DESC;
INFO  : Number of reduce tasks determined at compile time: 1

INFO  : MapReduce Total cumulative CPU time: 3 seconds 60 msec
INFO  : Ended Job = job_1554353095768_0015
+----------------+------+--+
|    category    | hot  |
+----------------+------+--+
| Music          | 5    |
| Entertainment  | 5    |
| Comedy         | 3    |
| Film           | 2    |
| Animation      | 2    |
| Sports         | 1    |
| Games          | 1    |
| Gadgets        | 1    |
+----------------+------+--+
8 rows selected (140.911 seconds)
0: jdbc:hive2://systemhub711:10000>
```


#### 5.6.1.5 ğŸ”¥ ç»Ÿè®¡æ¯ä¸ªç±»åˆ«ä¸­è§†é¢‘çƒ­åº¦`Top10` ğŸ”¥
> ğŸ‘¨ğŸ»â€ğŸ’» Codingæ€è·¯ ğŸ‘¨ğŸ»â€ğŸ’» : 
> è¦æƒ³ç»Ÿè®¡Musicç±»åˆ«ä¸­è§†é¢‘çƒ­åº¦Top10,éœ€è¦å…ˆæ‰¾åˆ°Musicç±»åˆ«,é‚£ä¹ˆå°±éœ€è¦å°†`category`å±•å¼€,æ‰€ä»¥å¯ä»¥åˆ›å»ºä¸€å¼ è¡¨ç”¨äºå­˜æ”¾categoryIdå±•å¼€çš„æ•°æ®,å¹¶å‘`category`å±•å¼€è¡¨ä¸­æ’å…¥æ•°æ®,ç»Ÿè®¡å¯¹åº”ç±»åˆ«(Music)ä¸­è§†é¢‘çƒ­åº¦.
> 
> åˆ›å»ºè¡¨ (pornhub_category / ç±»åˆ«è¡¨)
``` sql
0: jdbc:hive2://systemhub711:10000> 
CREATE TABLE pornhub_category(
	videoId string,
	uploader string,
	updates int,
	categoryId string,
	length int,
	views int,
	rate float,
	ratings int,
	comments int,
relatedId array <string> 
) ROW format delimited FIELDS TERMINATED BY "\t"
collection items TERMINATED BY "&"
stored AS orc;
No rows affected (0.283 seconds)
0: jdbc:hive2://systemhub711:10000> 
```
> å‘ç±»åˆ«è¡¨ä¸­æ’å…¥æ•°æ®
``` sql
0: jdbc:hive2://systemhub711:10000>
INSERT INTO TABLE pornhub_category
SELECT
videoId,
uploader,
updates,
categoryId,
length,
views,
rate,
ratings,
comments,
relatedId 
FROM
	pornhub_video_orc lateral VIEW explode (category) catetory AS categoryId;
INFO  : Number of reduce tasks is set to 0 since there's no reduce operator
INFO  : number of splits:1
0: jdbc:hive2://systemhub711:10000> show tables;
+--------------------+--+
|      tab_name      |
+--------------------+--+
| pornhub_category   |
| pornhub_user_orc   |
| pornhub_user_ori   |
| pornhub_video_orc  |
| pornhub_video_ori  |
+--------------------+--+
5 rows selected (0.044 seconds)
0: jdbc:hive2://systemhub711:10000> 
```
> ç»Ÿè®¡Musicç±»åˆ«Top10
``` sql
0: jdbc:hive2://systemhub711:10000>
SELECT
	videoId,
	views 
FROM
	pornhub_category 
WHERE
	categoryId = "Music" 
ORDER BY
	views DESC 
	LIMIT 10;
INFO  : Number of reduce tasks determined at compile time: 1
INFO  : MapReduce Total cumulative CPU time: 3 seconds 880 msec
INFO  : Ended Job = job_1554353095768_0019
+--------------+-----------+--+
|   videoid    |   views   |
+--------------+-----------+--+
| QjA5faZF1A8  | 15256922  |
| tYnn51C3X_w  | 11823701  |
| pv5zWaTEVkI  | 11672017  |
| 8bbTtPL1jRs  | 9579911   |
| UMf40daefsI  | 7533070   |
| seGhTWE98DU  | 3296342   |
| Ddn4MGaS3N4  | 2417724   |
| OMndH4egfSk  | 1258781   |
| AbndgwfG22k  | 1069404   |
| OUi9-jqq_i0  | 862371    |
+--------------+-----------+--+
10 rows selected (31.534 seconds)
0: jdbc:hive2://systemhub711:10000> 
```


#### 5.6.1.6 ğŸ”¥ ç»Ÿè®¡æ¯ä¸ªç±»åˆ«ä¸­è§†é¢‘æµé‡`Top10` ğŸ”¥
> ğŸ‘¨ğŸ»â€ğŸ’» Codingæ€è·¯ ğŸ‘¨ğŸ»â€ğŸ’» : 
> åˆ›å»ºè§†é¢‘ç±»åˆ«å±•å¼€è¡¨(`categoryId`åˆ—è½¬è¡Œåçš„è¡¨),æŒ‰ç…§ratingsæ’åºå³å¯.
``` sql
0: jdbc:hive2://systemhub711:10000>
SELECT
	videoId,
	views,
	ratings 
FROM
	pornhub_category 
WHERE
	categoryId = "Music" 
ORDER BY
	ratings DESC 
	LIMIT 10;
INFO  : Number of reduce tasks determined at compile time: 1
INFO  : MapReduce Total cumulative CPU time: 3 seconds 860 msec
INFO  : Ended Job = job_1554353095768_0020
+--------------+-----------+----------+--+
|   videoid    |   views   | ratings  |
+--------------+-----------+----------+--+
| QjA5faZF1A8  | 15256922  | 120506   |
| pv5zWaTEVkI  | 11672017  | 42386    |
| UMf40daefsI  | 7533070   | 31886    |
| tYnn51C3X_w  | 11823701  | 29479    |
| Ddn4MGaS3N4  | 2417724   | 18998    |
| seGhTWE98DU  | 3296342   | 13657    |
| crfrKqFp0Zg  | 824902    | 6816     |
| OUi9-jqq_i0  | 862371    | 5640     |
| 8bbTtPL1jRs  | 9579911   | 5352     |
| O9mEKMz2Pvo  | 632893    | 4779     |
+--------------+-----------+----------+--+
10 rows selected (29.872 seconds)
0: jdbc:hive2://systemhub711:10000> 
```


#### 5.6.1.7 ğŸ”¥ ç»Ÿè®¡ä¸Šä¼ è§†é¢‘æœ€å¤šçš„ç”¨æˆ·`Top10`ä»¥åŠç›¸å…³è§†é¢‘ ğŸ”¥
> ğŸ‘¨ğŸ»â€ğŸ’» Codingæ€è·¯ ğŸ‘¨ğŸ»â€ğŸ’» : 
> å…ˆæ‰¾åˆ°ä¸Šä¼ è§†é¢‘æœ€å¤šçš„10ä¸ªç”¨æˆ·çš„ç”¨æˆ·ä¿¡æ¯,é€šè¿‡`uploader`å­—æ®µä¸pornhub_video_orcè¡¨è¿›è¡Œjoin,å¾—åˆ°çš„ä¿¡æ¯æŒ‰ç…§viewsè§‚çœ‹æ¬¡æ•°è¿›è¡Œæ’åºå³å¯.
> 
> æŸ¥è¯¢ä¸Šä¼ è§†é¢‘æœ€å¤šçš„10ä¸ªç”¨æˆ·çš„ç”¨æˆ·ä¿¡æ¯
``` sql
0: jdbc:hive2://systemhub711:10000> 
SELECT
	* 
FROM
	pornhub_user_orc 
ORDER BY
	videos DESC 
	LIMIT 10;
INFO  : Number of reduce tasks determined at compile time: 1
INFO  : MapReduce Total cumulative CPU time: 13 seconds 10 msec
INFO  : Ended Job = job_1554353095768_0024
+----------------------------+--------------------------+---------------------------+--+
| pornhub_user_orc.uploader  | pornhub_user_orc.videos  | pornhub_user_orc.friends  |
+----------------------------+--------------------------+---------------------------+--+
| expertvillage              | 86228                    | 5659                      |
| TourFactory                | 49078                    | 0                         |
| myHotelVideo               | 33506                    | 102                       |
| AlexanderRodchenko         | 24315                    | 22                        |
| VHTStudios                 | 20230                    | 3                         |
| ephemeral8                 | 19498                    | 11                        |
| HSN                        | 15371                    | 309                       |
| rattanakorn                | 12637                    | 677                       |
| Ruchaneewan                | 10059                    | 774                       |
| futifu                     | 9668                     | 118                       |
+----------------------------+--------------------------+---------------------------+--+
10 rows selected (45.521 seconds)
0: jdbc:hive2://systemhub711:10000> 
```
> é€šè¿‡uploaderå­—æ®µä¸pornhub_video_orcè¡¨è¿›è¡Œjoin,å¾—åˆ°çš„ä¿¡æ¯æŒ‰ç…§viewsè§‚çœ‹æ¬¡æ•°è¿›è¡Œæ’åºå³å¯.
``` sql
0: jdbc:hive2://systemhub711:10000>
SELECT
	pornhub2.videoId,
	pornhub2.views,
	pornhub2.ratings,
	pornhub1.videos,
	pornhub1.friends 
FROM
	(
	SELECT
		* 
	FROM
		pornhub_user_orc 
	ORDER BY
		videos DESC 
		LIMIT 10 
	) pornhub1
	JOIN pornhub_video_orc pornhub2 ON pornhub1.uploader = pornhub2.uploader 
ORDER BY
	views DESC 
	LIMIT 20;
INFO  : Number of reduce tasks determined at compile time: 1
```

#### 5.6.1.8 ğŸ”¥ ç»Ÿè®¡æ¯ä¸ªç±»åˆ«è§†é¢‘è§‚çœ‹æ•°`Top10` ğŸ”¥
> ğŸ‘¨ğŸ»â€ğŸ’» Codingæ€è·¯ ğŸ‘¨ğŸ»â€ğŸ’» : 
> å…ˆå¾—åˆ°categoryIdå±•å¼€çš„è¡¨æ•°æ®,å­æŸ¥è¯¢æŒ‰ç…§categoryIdè¿›è¡Œåˆ†åŒº,ç„¶ååˆ†åŒºå†…æ’åº,å¹¶ç”Ÿæˆé€’å¢æ•°å­—,è¯¥é€’å¢æ•°å­—è¿™ä¸€åˆ—èµ·åä¸ºrankåˆ—,é€šè¿‡å­æŸ¥è¯¢äº§ç”Ÿçš„ä¸´æ—¶è¡¨,æŸ¥è¯¢rankå€¼å°äºç­‰äº10çš„æ•°æ®è¡Œå³å¯.
``` sql
0: jdbc:hive2://systemhub711:10000>
SELECT
	pronhub1.* 
FROM
	(
	SELECT
		videoId,
		categoryId,
		views,
		row_number () over (PARTITION BY categoryId ORDER BY views DESC) rank 
	FROM
		pornhub_category 
	) pronhub1 
WHERE
	rank <= 10;
INFO  : MapReduce Total cumulative CPU time: 4 seconds 30 msec
INFO  : Ended Job = job_1554353095768_0023
+-------------------+----------------------+-----------------+----------------+--+
| pronhub1.videoid  | pronhub1.categoryid  | pronhub1.views  | pronhub1.rank  |
+-------------------+----------------------+-----------------+----------------+--+
| LHyJH1yGKZY       | Animals              | 1085020         | 1              |
| Qz_nZixWX6Q       | Animals              | 1027067         | 2              |
| yg2enZsknZM       | Animals              | 2429            | 3              |
| sdUUx5FdySs       | Animation            | 5840839         | 1              |
| 6B26asyGKDo       | Animation            | 5147533         | 2              |
| JzqumbhfxRo       | Animation            | 3230774         | 3              |
| ElrldD02if0       | Animation            | 2337238         | 4              |
| Gm6XszMrw9Y       | Animation            | 1227020         | 5              |
| hBRjiLPNJAA       | Animation            | 927340          | 6              |
| zRVts7TFw-Y       | Animation            | 607456          | 7              |
| Jy09vLHkIes       | Animation            | 544237          | 8              |
| bqZauhidT1w       | Animation            | 374550          | 9              |
| A0eZ9qkUvJU       | Animation            | 351288          | 10             |
| pdiuDXwgrjQ       | Autos                | 1013697         | 1              |
| zgpbblz9wHw       | Autos                | 11322           | 2              |
| -_CSo1gOd48       | Blogs                | 13199833        | 1              |
| D2kJZOfq7zk       | Blogs                | 11184051        | 2              |
| PL4Uzun4CKA       | Blogs                | 1235410         | 3              |
| kzwa8NBlUeo       | Blogs                | 759912          | 4              |
| 5LELNIVyMqo       | Blogs                | 635085          | 5              |
| ihhEp3uTZck       | Blogs                | 533936          | 6              |
| f9_oaKYFM0c       | Blogs                | 328022          | 7              |
| TweU77cDrgE       | Blogs                | 318045          | 8              |
| H-ucblRMjuY       | Blogs                | 299935          | 9              |
| LfAaY1p_2Is       | Blogs                | 168389          | 10             |
| dMH0bHeiRNg       | Comedy               | 42513417        | 1              |
| 0XxI-hvPRRA       | Comedy               | 20282464        | 2              |
| 49IDp76kjPw       | Comedy               | 11970018        | 3              |
| 5P6UU6m3cqk       | Comedy               | 10107491        | 4              |
| _BuRwH59oAo       | Comedy               | 9566609         | 5              |
| MNxwAU_xAMk       | Comedy               | 7066676         | 6              |
| N0TR0Irx4Y0       | Comedy               | 3836122         | 7              |
| CQO3K8BcyGM       | Comedy               | 3083875         | 8              |
| P1OXAQHv09E       | Comedy               | 3068566         | 9              |
| nojWJ6-XmeQ       | Comedy               | 2667887         | 10             |
| 6gmP4nk0EOE       | DIY                  | 1353059         | 1              |
| 1dmVU08zVpA       | Entertainment        | 16087899        | 1              |
| RB-wUgnyGv0       | Entertainment        | 15712924        | 2              |
| vr3x_RRJdd4       | Entertainment        | 10786529        | 3              |
| lsO6D1rwrKc       | Entertainment        | 10334975        | 4              |
| ixsZy2425eY       | Entertainment        | 7456875         | 5              |
| RUCZJVJ_M8o       | Entertainment        | 6952767         | 6              |
| 3gg5LOd_Zus       | Entertainment        | 4200257         | 7              |
| o4x-VW_rCSE       | Entertainment        | 3534116         | 8              |
| tScm-eZInBE       | Entertainment        | 2675254         | 9              |
| IsyWlcQAy-Q       | Entertainment        | 2486628         | 10             |
| sdUUx5FdySs       | Film                 | 5840839         | 1              |
| 6B26asyGKDo       | Film                 | 5147533         | 2              |
| JzqumbhfxRo       | Film                 | 3230774         | 3              |
| ElrldD02if0       | Film                 | 2337238         | 4              |
| Gm6XszMrw9Y       | Film                 | 1227020         | 5              |
| hBRjiLPNJAA       | Film                 | 927340          | 6              |
| zRVts7TFw-Y       | Film                 | 607456          | 7              |
| Jy09vLHkIes       | Film                 | 544237          | 8              |
| bqZauhidT1w       | Film                 | 374550          | 9              |
| A0eZ9qkUvJU       | Film                 | 351288          | 10             |
| 7wt5FiZQrgM       | Gadgets              | 1399531         | 1              |
| wwLrgxtALWs       | Gadgets              | 584871          | 2              |
| 7wt5FiZQrgM       | Games                | 1399531         | 1              |
| wwLrgxtALWs       | Games                | 584871          | 2              |
| 6gmP4nk0EOE       | Howto                | 1353059         | 1              |
| QjA5faZF1A8       | Music                | 15256922        | 1              |
| tYnn51C3X_w       | Music                | 11823701        | 2              |
| pv5zWaTEVkI       | Music                | 11672017        | 3              |
| 8bbTtPL1jRs       | Music                | 9579911         | 4              |
| UMf40daefsI       | Music                | 7533070         | 5              |
| seGhTWE98DU       | Music                | 3296342         | 6              |
| Ddn4MGaS3N4       | Music                | 2417724         | 7              |
| OMndH4egfSk       | Music                | 1258781         | 8              |
| AbndgwfG22k       | Music                | 1069404         | 9              |
| OUi9-jqq_i0       | Music                | 862371          | 10             |
| bfZ_gXCHaMw       | News                 | 1039066         | 1              |
| 4G-D0F4Q9yk       | News                 | 882123          | 2              |
| zx2ytr2Oyv4       | News                 | 647446          | 3              |
| qmjvSM3x86o       | News                 | 535103          | 4              |
| qHO8l-Bd1O4       | News                 | 425284          | 5              |
| CmO3voBR3SE       | News                 | 158585          | 6              |
| JwAtNILh6uY       | News                 | 77817           | 7              |
| bVGRc5b3iD4       | News                 | 77065           | 8              |
| K4u3KNo2bs8       | News                 | 40268           | 9              |
| OKpyYdpiT88       | News                 | 34275           | 10             |
| -_CSo1gOd48       | People               | 13199833        | 1              |
| D2kJZOfq7zk       | People               | 11184051        | 2              |
| PL4Uzun4CKA       | People               | 1235410         | 3              |
| kzwa8NBlUeo       | People               | 759912          | 4              |
| 5LELNIVyMqo       | People               | 635085          | 5              |
| ihhEp3uTZck       | People               | 533936          | 6              |
| f9_oaKYFM0c       | People               | 328022          | 7              |
| TweU77cDrgE       | People               | 318045          | 8              |
| H-ucblRMjuY       | People               | 299935          | 9              |
| LfAaY1p_2Is       | People               | 168389          | 10             |
| LHyJH1yGKZY       | Pets                 | 1085020         | 1              |
| Qz_nZixWX6Q       | Pets                 | 1027067         | 2              |
| yg2enZsknZM       | Pets                 | 2429            | 3              |
| bNF_P281Uu4       | Places               | 5231539         | 1              |
| _5QUdvUhCZc       | Places               | 819974          | 2              |
| MEvoy_owET8       | Places               | 109673          | 3              |
| bfZ_gXCHaMw       | Politics             | 1039066         | 1              |
| 4G-D0F4Q9yk       | Politics             | 882123          | 2              |
| zx2ytr2Oyv4       | Politics             | 647446          | 3              |
+-------------------+----------------------+-----------------+----------------+--+
| pronhub1.videoid  | pronhub1.categoryid  | pronhub1.views  | pronhub1.rank  |
+-------------------+----------------------+-----------------+----------------+--+
| qmjvSM3x86o       | Politics             | 535103          | 4              |
| qHO8l-Bd1O4       | Politics             | 425284          | 5              |
| CmO3voBR3SE       | Politics             | 158585          | 6              |
| JwAtNILh6uY       | Politics             | 77817           | 7              |
| bVGRc5b3iD4       | Politics             | 77065           | 8              |
| K4u3KNo2bs8       | Politics             | 40268           | 9              |
| OKpyYdpiT88       | Politics             | 34275           | 10             |
| 7vL19q8yL54       | Sports               | 2527713         | 1              |
| u2pW7PSyZhw       | Sports               | 1160798         | 2              |
| K5saBDOE6Sc       | Sports               | 236918          | 3              |
| sMEnn0xJ0l0       | Sports               | 223511          | 4              |
| -keC9GymLpI       | Sports               | 99425           | 5              |
| ztIH6tc6Aa4       | Sports               | 61128           | 6              |
| cn34xQU2M94       | Sports               | 53556           | 7              |
| YpOnJBL6Ky0       | Sports               | 24643           | 8              |
| F9qvkMq7EIE       | Sports               | 22309           | 9              |
| bNF_P281Uu4       | Travel               | 5231539         | 1              |
| _5QUdvUhCZc       | Travel               | 819974          | 2              |
| MEvoy_owET8       | Travel               | 109673          | 3              |
| aRNzWyD7C9o       | UNA                  | 8825788         | 1              |
| 3jLRNiK6oWY       | UNA                  | 663407          | 2              |
| pdiuDXwgrjQ       | Vehicles             | 1013697         | 1              |
| zgpbblz9wHw       | Vehicles             | 11322           | 2              |
+-------------------+----------------------+-----------------+----------------+--+
123 rows selected (32.988 seconds)
0: jdbc:hive2://systemhub711:10000> 
```


## 5.7. ä¿®ä»™ä¹‹é“ æŠ€æœ¯æ¶æ„è¿­ä»£ ç™»å³°é€ æä¹‹åŠ¿
![Alt text](https://raw.githubusercontent.com/geekparkhub/geekparkhub.github.io/master/technical_guide/assets/media/main/technical_framework.jpg)

-----

## ğŸ’¡å¦‚ä½•å¯¹è¯¥å¼€æºæ–‡æ¡£è¿›è¡Œè´¡çŒ®ğŸ’¡

1. Blogå†…å®¹å¤§å¤šæ˜¯æ‰‹æ•²,æ‰€ä»¥éš¾å…ä¼šæœ‰ç¬”è¯¯,ä½ å¯ä»¥å¸®æˆ‘æ‰¾é”™åˆ«å­—ã€‚
2. å¾ˆå¤šçŸ¥è¯†ç‚¹æˆ‘å¯èƒ½æ²¡æœ‰æ¶‰åŠåˆ°,æ‰€ä»¥ä½ å¯ä»¥å¯¹å…¶ä»–çŸ¥è¯†ç‚¹è¿›è¡Œè¡¥å……ã€‚
3. ç°æœ‰çš„çŸ¥è¯†ç‚¹éš¾å…å­˜åœ¨ä¸å®Œå–„æˆ–è€…é”™è¯¯,æ‰€ä»¥ä½ å¯ä»¥å¯¹å·²æœ‰çŸ¥è¯†ç‚¹çš„ä¿®æ”¹/è¡¥å……ã€‚
4. ğŸ’¡æ¬¢è¿è´¡çŒ®`å„é¢†åŸŸå¼€æºé‡ç”ŸBlog`&`ç¬”è®°`&`æ–‡ç« `&`ç‰‡æ®µ`&`åˆ†äº«`&`åˆ›æƒ³`&`OpenSource Project`&`Code`&`Code Review`
5. ğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆ issues: [geekparkhub.github.io/issues](https://github.com/geekparkhub/geekparkhub.github.io/issues) ğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆğŸ™ˆ

### å¸Œæœ›æ¯ä¸€ç¯‡æ–‡ç« éƒ½èƒ½å¤Ÿå¯¹è¯»è€…ä»¬æä¾›å¸®åŠ©ä¸æå‡,è¿™ä¹ƒæ˜¯æ¯ä¸€ä½ç¬”è€…çš„åˆè¡·                          


-----


## ğŸ’Œæ„Ÿè°¢æ‚¨çš„é˜…è¯» æ¬¢è¿æ‚¨çš„ç•™è¨€ä¸å»ºè®®ğŸ’Œ

- FaceBookï¼š[JEEP SevenEleven](https://www.facebook.com/profile.php?id=100018099483403)
- Twitterï¼š[@JEEP7ll](https://twitter.com/JEEP7ll)
- Sina Weibo: [@JEEP-711](https://weibo.com/JEEP511)
- GeekParkHub GithubHomeï¼š<https://github.com/geekparkhub>
- GeekParkHub GiteeHomeï¼š<https://gitee.com/geekparkhub>
- Blog GardenHomeï¼š<http://www.cnblogs.com/JEEP711/>
- W3C/BlogHomeï¼š<https://www.w3cschool.cn/jeep711blog/>
- CSDN/BlogHomeï¼š<http://blog.csdn.net/jeep911>
- 51CTO/BlogHomeï¼š<http://jeep711.blog.51cto.com/>
- **`Official Public Email`**
- Group Emailï¼š<geekparkhub@outlook.com> â€”â€” <hackerparkhub@outlook.com> â€”â€” <hackerpark@hotmail.com>
- User Emailï¼š<jeep711.home.@gmail.com> â€”â€” <jeep-711@outlook.com>
- System Emailï¼š<systemhub-711@outlook.com>
- Service Emailï¼š<servicehub-711@outlook.com>



### æåŠ© é¡¹ç›®çš„å‘å±•ç¦»ä¸å¼€ä½ çš„æ”¯æŒ,è¯·å¼€å‘è€…å–æ¯â˜•Coffeeâ˜•å§!
![enter image description here](https://www.geekparkhub.com/docs/images/pay.jpg)

#### `è‡´è°¢`ï¼š
**æåŠ©æ—¶è¯·å¤‡æ³¨ UserName**
| ID| UserName | Donation | Money | Consume |
|:-| :-------- | --------:| :--: |:--: |
|1 | Object | WeChatPay |  5RMB | ä¸€æ¯å¯ä¹ | 
|2| æ³°è¿ªç†Šçœ‹æœˆäº®  | AliPay |  20RMB  | ä¸€æ¯å’–å•¡ | 
|3| ä¿®ä»™é“é•¿  | WeChatPay |  10RMB | ä¸¤æ¯å¯ä¹ | 


## License å¼€æºåè®®
[Apache License Version 2.0](https://github.com/geekparkhub/geekparkhub.github.io/blob/master/LICENSE)

---------